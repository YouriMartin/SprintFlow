import{R as qe}from"../chunks/C6jZLuX-.js";import{d as Ne,f as g,s as D,a as v,e as De,c as I}from"../chunks/paUPhQKv.js";import{P as Oe,U as Re,ao as We,B as Q,a1 as Be,a3 as Ie,ae as ce,$ as pe,_ as ue,R as ze,f as be,h as F,j as X,o as He,z as Le,s as d,g as e,y as B,u as r,k as s,v as t,q as O,w as Ue,x as Ve,r as ge,e as Ge,A as Je,ap as Ke}from"../chunks/CR4mJNBN.js";import{M as Qe,s as de}from"../chunks/BmKr277m.js";import{i as W}from"../chunks/CAnKmzBQ.js";import{s as Xe,a as Ye}from"../chunks/BaaInQHT.js";import{p as ye}from"../chunks/B_9wCMUX.js";import{P as fe,e as he,s as R,i as Ze}from"../chunks/B7Xa6XnF.js";import{s as Y,r as ea,b as _e}from"../chunks/DkanCsHN.js";import{a as me}from"../chunks/CfpsT7fc.js";function aa(y,f){let p=null,j=Q;var h;if(Q){p=ze;for(var l=Be(document.head);l!==null&&(l.nodeType!==Ie||l.data!==y);)l=ce(l);if(l===null)pe(!1);else{var m=ce(l);l.remove(),ue(m)}}Q||(h=document.head.appendChild(Oe()));try{Re(()=>f(h),We)}finally{j&&(pe(!0),ue(p))}}function ta(y,f){throw new qe(y,f.toString())}const sa="http://localhost:3000",ra=async({fetch:y,url:f})=>{if(f.pathname.startsWith("/setup"))return{};try{const p=await y(`${sa}/setup/status`);if(p.ok){const{required:j}=await p.json();j&&ta(302,"/setup")}}catch{}return{}},ka=Object.freeze(Object.defineProperty({__proto__:null,load:ra},Symbol.toStringTag,{value:"Module"}));var la=g('<li class="nav-loading svelte-129hoe0"><span class="nav-label svelte-129hoe0">Loading...</span></li>'),oa=g('<li class="nav-empty svelte-129hoe0"><span class="nav-label svelte-129hoe0">No projects</span></li>'),na=g('<ul class="project-subnav svelte-129hoe0"><li><a><span class="nav-icon svelte-129hoe0">ğŸ“‹</span> <span class="nav-label svelte-129hoe0">Backlog</span></a></li> <li><a><span class="nav-icon svelte-129hoe0">ğŸƒ</span> <span class="nav-label svelte-129hoe0">Sprints</span></a></li></ul>'),ia=g('<li class="project-item"><button><span class="nav-icon svelte-129hoe0">ğŸ“</span> <span class="nav-label svelte-129hoe0"> </span> <span class="expand-icon svelte-129hoe0"> </span></button> <!></li>'),va=g('<li><a><span class="nav-icon svelte-129hoe0"> </span> <span class="nav-label svelte-129hoe0"> </span></a></li>'),ca=g('<div class="form-error svelte-129hoe0"> </div>'),pa=g('<form class="form svelte-129hoe0"><!> <div class="form-group svelte-129hoe0"><label for="project-name" class="svelte-129hoe0">Name</label> <input id="project-name" type="text" required placeholder="Enter project name" class="svelte-129hoe0"/></div> <div class="form-group svelte-129hoe0"><label for="project-description" class="svelte-129hoe0">Description</label> <textarea id="project-description" placeholder="Enter project description (optional)" rows="3" class="svelte-129hoe0"></textarea></div> <div class="form-actions svelte-129hoe0"><button type="button" class="btn btn-secondary svelte-129hoe0">Cancel</button> <button type="submit" class="btn btn-primary svelte-129hoe0">Create Project</button></div></form>'),ua=g('<aside class="sidebar svelte-129hoe0"><div class="sidebar-header svelte-129hoe0"><div class="logo svelte-129hoe0"><span class="logo-icon svelte-129hoe0">SF</span> <span class="logo-text svelte-129hoe0">SprintFlow</span></div></div> <nav class="sidebar-nav svelte-129hoe0"><ul class="nav-list svelte-129hoe0"><li><a href="/"><span class="nav-icon svelte-129hoe0">ğŸ“Š</span> <span class="nav-label svelte-129hoe0">Dashboard</span></a></li> <li class="nav-section-header svelte-129hoe0"><span class="nav-section-title svelte-129hoe0">Projects</span> <button class="add-project-btn svelte-129hoe0" title="New project">+</button></li> <!></ul></nav> <div class="sidebar-footer svelte-129hoe0"><ul class="nav-list svelte-129hoe0"></ul></div></aside> <!>',1);function da(y,f){be(f,!0);let p=F(X([])),j=F(!0),h=X({}),l=F(""),m=F(!1),S=F(X({name:"",description:"",status:fe.ACTIVE})),$=F(null);const z=[{icon:"âš™ï¸",label:"Settings",href:"/settings"},{icon:"â“",label:"Help",href:"/help"}];async function _(){try{d(j,!0),d(p,await me.getProjects(),!0)}catch(a){console.error("Failed to fetch projects:",a)}finally{d(j,!1)}}function b(a){h[a]=!h[a]}function P(a){return a==="/"?e(l)==="/":e(l).startsWith(a)}function M(a){return e(l).startsWith(`/projects/${a}`)}function H(){d(S,{name:"",description:"",status:fe.ACTIVE},!0),d($,null),d(m,!0)}async function je(){try{d($,null);const a=await me.createProject(e(S));d(m,!1),await _(),h[a.id]=!0}catch(a){d($,a instanceof Error?a.message:"Failed to create project",!0)}}He(()=>{_()}),Le(()=>ye.subscribe(u=>{d(l,u.url.pathname,!0);for(const c of e(p))M(c.id)&&(h[c.id]=!0)}));var Z=ua(),L=B(Z),U=r(s(L),2),ee=s(U),V=s(ee),Pe=s(V);let ae;t(V);var G=r(V,2),xe=r(s(G),2);xe.__click=H,t(G);var we=r(G,2);{var Se=a=>{var u=la();v(a,u)},ke=a=>{var u=I(),c=B(u);{var x=n=>{var w=oa();v(n,w)},A=n=>{var w=I(),k=B(w);he(k,17,()=>e(p),E=>E.id,(E,i)=>{var T=ia(),o=s(T);let C;o.__click=()=>b(e(i).id);var q=r(s(o),2),$e=s(q,!0);t(q);var re=r(q,2),Ae=s(re,!0);t(re),t(o);var Ce=r(o,2);{var Fe=N=>{var J=na(),K=s(J),le=s(K);let oe;t(K);var ne=r(K,2),ie=s(ne);let ve;t(ne),t(J),O((Me,Te)=>{Y(le,"href",`/projects/${e(i).id??""}/backlog`),oe=R(le,1,"nav-item subnav-item svelte-129hoe0",null,oe,Me),Y(ie,"href",`/projects/${e(i).id??""}/sprints`),ve=R(ie,1,"nav-item subnav-item svelte-129hoe0",null,ve,Te)},[()=>({active:P(`/projects/${e(i).id}/backlog`)}),()=>({active:P(`/projects/${e(i).id}/sprints`)})]),v(N,J)};W(Ce,N=>{h[e(i).id]&&N(Fe)})}t(T),O(N=>{C=R(o,1,"nav-item project-toggle svelte-129hoe0",null,C,N),D($e,e(i).name),D(Ae,h[e(i).id]?"â–¼":"â–¶")},[()=>({active:M(e(i).id)})]),v(E,T)}),v(n,w)};W(c,n=>{e(p).length===0?n(x):n(A,!1)},!0)}v(a,u)};W(we,a=>{e(j)?a(Se):a(ke,!1)})}t(ee),t(U);var te=r(U,2),se=s(te);he(se,21,()=>z,Ze,(a,u)=>{var c=va(),x=s(c);let A;var n=s(x),w=s(n,!0);t(n);var k=r(n,2),E=s(k,!0);t(k),t(x),t(c),O(i=>{Y(x,"href",e(u).href),A=R(x,1,"nav-item svelte-129hoe0",null,A,i),D(w,e(u).icon),D(E,e(u).label)},[()=>({active:P(e(u).href)})]),v(a,c)}),t(se),t(te),t(L);var Ee=r(L,2);Qe(Ee,{get open(){return e(m)},title:"New Project",onclose:()=>d(m,!1),children:(a,u)=>{var c=pa(),x=s(c);{var A=o=>{var C=ca(),q=s(C,!0);t(C),O(()=>D(q,e($))),v(o,C)};W(x,o=>{e($)&&o(A)})}var n=r(x,2),w=r(s(n),2);ea(w),t(n);var k=r(n,2),E=r(s(k),2);Ue(E),t(k);var i=r(k,2),T=s(i);T.__click=()=>d(m,!1),Ve(2),t(i),t(c),De("submit",c,o=>{o.preventDefault(),je()}),_e(w,()=>e(S).name,o=>e(S).name=o),_e(E,()=>e(S).description,o=>e(S).description=o),v(a,c)},$$slots:{default:!0}}),O(a=>ae=R(Pe,1,"nav-item svelte-129hoe0",null,ae,a),[()=>({active:P("/")})]),v(y,Z),ge()}Ne(["click"]);var fa=g('<meta name="description" content="SprintFlow - Task Management Application"/>'),ha=g('<div class="app-layout svelte-12qhfyh"><!> <main class="main-content svelte-12qhfyh"><!></main></div>');function Ea(y,f){be(f,!0);const p=()=>Ye(ye,"$page",j),[j,h]=Xe();let l=Je(()=>p().url.pathname.startsWith("/setup"));var m=I();aa("12qhfyh",_=>{var b=fa();Ge(()=>{Ke.title="SprintFlow"}),v(_,b)});var S=B(m);{var $=_=>{var b=I(),P=B(b);de(P,()=>f.children),v(_,b)},z=_=>{var b=ha(),P=s(b);da(P,{});var M=r(P,2),H=s(M);de(H,()=>f.children),t(M),t(b),v(_,b)};W(S,_=>{e(l)?_($):_(z,!1)})}v(y,m),ge(),h()}export{Ea as component,ka as universal};
