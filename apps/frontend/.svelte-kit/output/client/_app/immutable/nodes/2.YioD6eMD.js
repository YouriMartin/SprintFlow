import{d as ga,f,a as p,s as E,e as ha,c as fa}from"../chunks/paUPhQKv.js";import{f as ba,h as C,j as Z,o as ma,s as d,k as r,g as e,q as H,r as ya,u as t,v as s,w as Ta,x as Da,y as ka}from"../chunks/CR4mJNBN.js";import{i as P}from"../chunks/CAnKmzBQ.js";import{T as o,a as v,e as Oa,s as $}from"../chunks/B7Xa6XnF.js";import{r as xa,b as aa}from"../chunks/DkanCsHN.js";import{b as ea}from"../chunks/DODDj8bX.js";import{a as K}from"../chunks/CfpsT7fc.js";var wa=f('<div class="error-banner svelte-1uha8ag"> </div>'),Ea=f('<div class="card form-card svelte-1uha8ag"><h2 class="svelte-1uha8ag">Create New Task</h2> <form><div class="form-group svelte-1uha8ag"><label for="title" class="svelte-1uha8ag">Title</label> <input type="text" id="title" required class="input svelte-1uha8ag"/></div> <div class="form-group svelte-1uha8ag"><label for="description" class="svelte-1uha8ag">Description</label> <textarea id="description" class="input textarea svelte-1uha8ag" rows="3"></textarea></div> <div class="form-row svelte-1uha8ag"><div class="form-group svelte-1uha8ag"><label for="status" class="svelte-1uha8ag">Status</label> <select id="status" class="input svelte-1uha8ag"><option>To Do</option><option>In Progress</option><option>Done</option></select></div> <div class="form-group svelte-1uha8ag"><label for="priority" class="svelte-1uha8ag">Priority</label> <select id="priority" class="input svelte-1uha8ag"><option>Low</option><option>Medium</option><option>High</option><option>Urgent</option></select></div></div> <button type="submit" class="btn btn-success svelte-1uha8ag">Create Task</button></form></div>'),Ia=f('<div class="loading svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Loading tasks...</p></div>'),Ma=f('<div class="card empty-state svelte-1uha8ag"><p>No tasks yet. Create your first task!</p></div>'),Na=f('<p class="task-description svelte-1uha8ag"> </p>'),Sa=f('<div class="card task-card svelte-1uha8ag"><div class="task-header svelte-1uha8ag"><h3 class="svelte-1uha8ag"> </h3> <button class="btn btn-danger btn-small svelte-1uha8ag">Delete</button></div> <!> <div class="badges svelte-1uha8ag"><span> </span> <span> </span></div></div>'),Ga=f('<div class="task-list svelte-1uha8ag"></div>'),Ra=f('<div class="page svelte-1uha8ag"><header class="page-header svelte-1uha8ag"><div><h1 class="svelte-1uha8ag">Dashboard</h1> <p class="subtitle svelte-1uha8ag">Welcome to SprintFlow</p></div></header> <!> <div class="actions svelte-1uha8ag"><button class="btn btn-primary svelte-1uha8ag"> </button></div> <!> <!></div>');function qa(ta,sa){ba(sa,!0);let q=C(Z([])),j=C(!0),D=C(null),I=C(!1),u=C(Z({title:"",description:"",status:v.TODO,priority:o.MEDIUM}));async function z(){try{d(j,!0),d(q,await K.getTasks(),!0),d(D,null)}catch(a){d(D,"Failed to load tasks"),console.error(a)}finally{d(j,!1)}}async function ra(a){a.preventDefault();try{await K.createTask(e(u)),d(u,{title:"",description:"",status:v.TODO,priority:o.MEDIUM},!0),d(I,!1),await z()}catch(i){d(D,"Failed to create task"),console.error(i)}}async function ia(a){try{await K.deleteTask(a),await z()}catch(i){d(D,"Failed to delete task"),console.error(i)}}function oa(a){switch(a){case v.TODO:return"badge-gray";case v.IN_PROGRESS:return"badge-blue";case v.DONE:return"badge-green";default:return"badge-gray"}}function la(a){switch(a){case o.LOW:return"badge-gray";case o.MEDIUM:return"badge-yellow";case o.HIGH:return"badge-orange";case o.URGENT:return"badge-red";default:return"badge-gray"}}function va(a){return a.replace("_"," ")}ma(()=>{z()});var A=Ra(),Q=t(r(A),2);{var ua=a=>{var i=wa(),b=r(i,!0);s(i),H(()=>E(b,e(D))),p(a,i)};P(Q,a=>{e(D)&&a(ua)})}var B=t(Q,2),J=r(B);J.__click=()=>d(I,!e(I));var na=r(J,!0);s(J),s(B);var V=t(B,2);{var da=a=>{var i=Ea(),b=t(r(i),2),M=r(b),F=t(r(M),2);xa(F),s(M);var n=t(M,2),_=t(r(n),2);Ta(_),s(n);var k=t(n,2),l=r(k),m=t(r(l),2),y=r(m),O={},N=t(y),L={},S=t(N),W={};s(m),s(l);var G=t(l,2),g=t(r(G),2),R=r(g),x={},U=t(R),h={},c=t(U),w={},X=t(c),Y={};s(g),s(G),s(k),Da(2),s(b),s(i),H(()=>{O!==(O=v.TODO)&&(y.value=(y.__value=v.TODO)??""),L!==(L=v.IN_PROGRESS)&&(N.value=(N.__value=v.IN_PROGRESS)??""),W!==(W=v.DONE)&&(S.value=(S.__value=v.DONE)??""),x!==(x=o.LOW)&&(R.value=(R.__value=o.LOW)??""),h!==(h=o.MEDIUM)&&(U.value=(U.__value=o.MEDIUM)??""),w!==(w=o.HIGH)&&(c.value=(c.__value=o.HIGH)??""),Y!==(Y=o.URGENT)&&(X.value=(X.__value=o.URGENT)??"")}),ha("submit",b,ra),aa(F,()=>e(u).title,T=>e(u).title=T),aa(_,()=>e(u).description,T=>e(u).description=T),ea(m,()=>e(u).status,T=>e(u).status=T),ea(g,()=>e(u).priority,T=>e(u).priority=T),p(a,i)};P(V,a=>{e(I)&&a(da)})}var ca=t(V,2);{var pa=a=>{var i=Ia();p(a,i)},_a=a=>{var i=fa(),b=ka(i);{var M=n=>{var _=Ma();p(n,_)},F=n=>{var _=Ga();Oa(_,21,()=>e(q),k=>k.id,(k,l)=>{var m=Sa(),y=r(m),O=r(y),N=r(O,!0);s(O);var L=t(O,2);L.__click=()=>ia(e(l).id),s(y);var S=t(y,2);{var W=h=>{var c=Na(),w=r(c,!0);s(c),H(()=>E(w,e(l).description)),p(h,c)};P(S,h=>{e(l).description&&h(W)})}var G=t(S,2),g=r(G),R=r(g,!0);s(g);var x=t(g,2),U=r(x,!0);s(x),s(G),s(m),H((h,c,w)=>{E(N,e(l).title),$(g,1,`badge ${h??""}`,"svelte-1uha8ag"),E(R,c),$(x,1,`badge ${w??""}`,"svelte-1uha8ag"),E(U,e(l).priority)},[()=>oa(e(l).status),()=>va(e(l).status),()=>la(e(l).priority)]),p(k,m)}),s(_),p(n,_)};P(b,n=>{e(q).length===0?n(M):n(F,!1)},!0)}p(a,i)};P(ca,a=>{e(j)?a(pa):a(_a,!1)})}s(A),H(()=>E(na,e(I)?"Cancel":"New Task")),p(ta,A),ya()}ga(["click"]);export{qa as component};
