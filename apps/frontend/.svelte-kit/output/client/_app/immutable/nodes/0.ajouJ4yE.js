import{d as Da,f as v,a as r,c as ra,s as O}from"../chunks/4Mh_maa4.js";import{q as Ma,b as Ca,af as Na,w as K,T as Ha,V as Oa,a5 as na,F as oa,D as va,x as Wa,p as Ba,s as W,a as ia,o as Ia,u as La,c as D,g as e,f as p,t as P,e as Va,d as l,r as t,n as za,i as Q,I as Ga,ag as Ja}from"../chunks/DpUKlOTm.js";import{s as Ka}from"../chunks/k75LQIeN.js";import{i as _}from"../chunks/DT90_JrZ.js";import{e as ca,i as Qa,s as w,a as R}from"../chunks/DfndPHHs.js";import{p as Ra}from"../chunks/BZ6SkWNk.js";import{a as Ua}from"../chunks/DLoPx0KZ.js";function Xa(T,E){let n=null,f=K;var u;if(K){n=Wa;for(var i=Ha(document.head);i!==null&&(i.nodeType!==Oa||i.data!==T);)i=na(i);if(i===null)oa(!1);else{var b=na(i);i.remove(),va(b)}}K||(u=document.head.appendChild(Ma()));try{Ca(()=>E(u),Na)}finally{f&&(oa(!0),va(n))}}var Ya=v('<span class="logo-icon svelte-129hoe0">SF</span>'),Za=v('<span class="logo-icon svelte-129hoe0">SF</span> <span class="logo-text svelte-129hoe0">SprintFlow</span>',1),$a=v('<span class="icon">â–¶</span>'),ae=v('<span class="icon">â—€</span>'),ee=v('<span class="nav-label svelte-129hoe0">Dashboard</span>'),se=v('<li class="nav-section-title svelte-129hoe0">Projects</li>'),te=v('<span class="nav-label svelte-129hoe0">Loading...</span>'),le=v('<li class="nav-loading svelte-129hoe0"><!></li>'),re=v('<span class="nav-label svelte-129hoe0">No projects</span>'),ne=v('<li class="nav-empty svelte-129hoe0"><!></li>'),oe=v('<span class="nav-label svelte-129hoe0"> </span> <span class="expand-icon svelte-129hoe0"> </span>',1),ve=v('<ul class="project-subnav svelte-129hoe0"><li><a><span class="nav-icon svelte-129hoe0">ğŸ“‹</span> <span class="nav-label svelte-129hoe0">Backlog</span></a></li> <li><a><span class="nav-icon svelte-129hoe0">ğŸƒ</span> <span class="nav-label svelte-129hoe0">Sprints</span></a></li></ul>'),ie=v('<li class="project-item"><button><span class="nav-icon svelte-129hoe0">ğŸ“</span> <!></button> <!></li>'),ce=v('<span class="nav-label svelte-129hoe0"> </span>'),pe=v('<li><a><span class="nav-icon svelte-129hoe0"> </span> <!></a></li>'),_e=v('<aside><div class="sidebar-header svelte-129hoe0"><div class="logo svelte-129hoe0"><!></div> <button class="collapse-btn svelte-129hoe0" aria-label="Toggle sidebar"><!></button></div> <nav class="sidebar-nav svelte-129hoe0"><ul class="nav-list svelte-129hoe0"><li><a href="/"><span class="nav-icon svelte-129hoe0">ğŸ“Š</span> <!></a></li> <!> <!></ul></nav> <div class="sidebar-footer svelte-129hoe0"><ul class="nav-list svelte-129hoe0"></ul></div></aside>');function de(T,E){Ba(E,!0);let n=W(!1),f=W(ia([])),u=W(!0),i=ia({}),b=W("");const B=[{icon:"âš™ï¸",label:"Settings",href:"/settings"},{icon:"â“",label:"Help",href:"/help"}];async function pa(){try{D(u,!0),D(f,await Ua.getProjects(),!0)}catch(a){console.error("Failed to fetch projects:",a)}finally{D(u,!1)}}function _a(){D(n,!e(n))}function da(a){i[a]=!i[a]}function M(a){return a==="/"?e(b)==="/":e(b).startsWith(a)}function U(a){return e(b).startsWith(`/projects/${a}`)}Ia(()=>{pa()}),La(()=>Ra.subscribe(s=>{D(b,s.url.pathname,!0);for(const d of e(f))U(d.id)&&(i[d.id]=!0)}));var C=_e();let X;var I=l(C),L=l(I),fa=l(L);{var ua=a=>{var s=Ya();r(a,s)},ha=a=>{var s=Za();za(2),r(a,s)};_(fa,a=>{e(n)?a(ua):a(ha,!1)})}t(L);var V=p(L,2);V.__click=_a;var ma=l(V);{var ba=a=>{var s=$a();r(a,s)},ga=a=>{var s=ae();r(a,s)};_(ma,a=>{e(n)?a(ba):a(ga,!1)})}t(V),t(I);var z=p(I,2),Y=l(z),G=l(Y),J=l(G);let Z;var ya=p(l(J),2);{var xa=a=>{var s=ee();r(a,s)};_(ya,a=>{e(n)||a(xa)})}t(J),t(G);var $=p(G,2);{var ja=a=>{var s=se();r(a,s)};_($,a=>{e(n)||a(ja)})}var ka=p($,2);{var Fa=a=>{var s=le(),d=l(s);{var g=y=>{var c=te();r(y,c)};_(d,y=>{e(n)||y(g)})}t(s),r(a,s)},Sa=a=>{var s=ra(),d=Q(s);{var g=c=>{var x=ne(),q=l(x);{var j=o=>{var h=re();r(o,h)};_(q,o=>{e(n)||o(j)})}t(x),r(c,x)},y=c=>{var x=ra(),q=Q(x);ca(q,17,()=>e(f),j=>j.id,(j,o)=>{var h=ie(),k=l(h);let sa;k.__click=()=>da(e(o).id);var Pa=p(l(k),2);{var wa=m=>{var S=oe(),F=Q(S),N=l(F,!0);t(F);var A=p(F,2),H=l(A,!0);t(A),P(()=>{O(N,e(o).name),O(H,i[e(o).id]?"â–¼":"â–¶")}),r(m,S)};_(Pa,m=>{e(n)||m(wa)})}t(k);var Ta=p(k,2);{var Ea=m=>{var S=ve(),F=l(S),N=l(F);let A;t(F);var H=p(F,2),ta=l(H);let la;t(H),t(S),P((qa,Aa)=>{R(N,"href",`/projects/${e(o).id??""}/backlog`),A=w(N,1,"nav-item subnav-item svelte-129hoe0",null,A,qa),R(ta,"href",`/projects/${e(o).id??""}/sprints`),la=w(ta,1,"nav-item subnav-item svelte-129hoe0",null,la,Aa)},[()=>({active:M(`/projects/${e(o).id}/backlog`)}),()=>({active:M(`/projects/${e(o).id}/sprints`)})]),r(m,S)};_(Ta,m=>{!e(n)&&i[e(o).id]&&m(Ea)})}t(h),P(m=>sa=w(k,1,"nav-item project-toggle svelte-129hoe0",null,sa,m),[()=>({active:U(e(o).id)})]),r(j,h)}),r(c,x)};_(d,c=>{e(f).length===0?c(g):c(y,!1)},!0)}r(a,s)};_(ka,a=>{e(u)?a(Fa):a(Sa,!1)})}t(Y),t(z);var aa=p(z,2),ea=l(aa);ca(ea,21,()=>B,Qa,(a,s)=>{var d=pe(),g=l(d);let y;var c=l(g),x=l(c,!0);t(c);var q=p(c,2);{var j=o=>{var h=ce(),k=l(h,!0);t(h),P(()=>O(k,e(s).label)),r(o,h)};_(q,o=>{e(n)||o(j)})}t(g),t(d),P(o=>{R(g,"href",e(s).href),y=w(g,1,"nav-item svelte-129hoe0",null,y,o),O(x,e(s).icon)},[()=>({active:M(e(s).href)})]),r(a,d)}),t(ea),t(aa),t(C),P(a=>{X=w(C,1,"sidebar svelte-129hoe0",null,X,{collapsed:e(n)}),Z=w(J,1,"nav-item svelte-129hoe0",null,Z,a)},[()=>({active:M("/")})]),r(T,C),Va()}Da(["click"]);var fe=v('<meta name="description" content="SprintFlow - Task Management Application"/>'),ue=v('<div class="app-layout svelte-12qhfyh"><!> <main class="main-content svelte-12qhfyh"><!></main></div>');function ke(T,E){var n=ue();Xa("12qhfyh",b=>{var B=fe();Ga(()=>{Ja.title="SprintFlow"}),r(b,B)});var f=l(n);de(f,{});var u=p(f,2),i=l(u);Ka(i,()=>E.children),t(u),t(n),r(T,n)}export{ke as component};
