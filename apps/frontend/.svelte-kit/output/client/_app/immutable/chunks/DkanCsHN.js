import{B as d,C as y,D as E,L as S,N as k,E as m,F as A,l as b,G as M,H as N,I as g,c as t,p as L}from"./CR4mJNBN.js";const I=Symbol("is custom element"),T=Symbol("is html");function w(e){if(d){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var c=e.value;n(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var s=e.checked;n(e,"checked",null),e.checked=s}}};e.__on_r=a,y(a),E()}}function n(e,r,a,c){var s=C(e);d&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[S]=a),a==null?e.removeAttribute(r):typeof a!="string"&&H(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function C(e){return e.__attributes??(e.__attributes={[I]:e.nodeName.includes("-"),[T]:e.namespaceURI===k})}var h=new Map;function H(e){var r=e.getAttribute("is")||e.nodeName,a=h.get(r);if(a)return a;h.set(r,a=[]);for(var c,s=e,o=Element.prototype;o!==s;){c=A(s);for(var l in c)c[l].set&&a.push(l);s=m(s)}return a}function B(e,r,a=r){var c=new WeakSet;b(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=_(e)?i(o):o,a(o),t!==null&&c.add(t),await M(),o!==(o=r())){var l=e.selectionStart,f=e.selectionEnd,u=e.value.length;if(e.value=o??"",f!==null){var v=e.value.length;l===f&&f===u&&v>u?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=l,e.selectionEnd=Math.min(f,v))}}}),(d&&e.defaultValue!==e.value||N(r)==null&&e.value)&&(a(_(e)?i(e.value):e.value),t!==null&&c.add(t)),g(()=>{var s=r();if(e===document.activeElement){var o=L??t;if(c.has(o))return}_(e)&&s===i(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function _(e){var r=e.type;return r==="number"||r==="range"}function i(e){return e===""?null:+e}export{B as b,w as r,n as s};
